<div ng-controller="mapCtrl"><!--Header block--><header class="header"><div class="wrapper header__content"><div class="logo"><img src="img/logo.svg" alt="logo" class="logo__media"></div><div class="header__inner-wrap clearfix"><div class="auth"><a href="#/auth" class="auth__btn auth__btn--login button">Login</a><button class="auth__btn auth__btn--logout button hidden"><i class="icon-exit auth__icon"></i>Logout</button></div><button ng-click="showUserForm = true" class="add-user"><i class="add-user__icon icon-plus"></i><span>Add new user</span></button><form ng-show="showUserForm" ng-submit="addUser(user)" class="user-form"><div ng-click="showUserForm=false" class="btn-close icon-cancel-sign"></div><fieldset class="user-form__fieldset"><label for="name-input" class="user-form__label">Name</label><input type="text" ng-model="user.name" placeholder="John Johnson" id="name-input" name="name" class="user-form__input"></fieldset><fieldset class="user-form__fieldset"><label for="email-input" class="user-form__label">E-mail</label><input type="email" required placeholder="example@gmail.com" ng-model="user.email" id="email-input" name="email" class="user-form__input"></fieldset><button type="submit" class="user-form__submit button button--inversion">Add user</button></form><div class="seats-block"><button ng-click="createSeat()" class="add-seat"><i class="add-seat__icon icon-plus"></i><span class="add-seat__text">Create new seat</span></button><p ng-show="newSeatMode" class="seats-instruction">Choose spot on map for new seat. Press "Esc" in order to cancel creating new seat</p><div ng-show="showSeatInfo" class="seat-info"><div ng-click="closeSeatInfo()" class="seat-info__close btn-close icon-cancel-sign"></div><div class="seat-info__icon">seat icon</div><div class="seat-info__details"><fieldset class="seat-info__fieldset"><span class="seat-info__key">Seat title: </span><span ng-click="editingTitle = true" ng-hide="editingTitle" title="change title" class="seat-info__value">{{seatTitle|| 'No title'}}</span><input type="text" ng-model="seatTitle" ng-show="editingTitle" ng-blur="editingTitle = false" class="seat-info__input"></fieldset><fieldset class="seat-info__fieldset"><span class="seat-info__key">Occupant: </span><span ng-click="editingOccupant = true; rememberOldOccupant()" ng-hide="editingOccupant" title="change occupant" class="seat-info__value">{{seatOccupant|| 'Free'}}</span><i ng-show="seatOccupant &amp;&amp; !editingOccupant" ng-click="makeFreeSeatModal = true" title="make this place free" class="seat-info__delete icon-cancel-sign"></i><div ng-show="editingOccupant" class="seat-info__input-wrap"><i class="icon-search seat-info__sign"></i><input type="text" ng-model="seatOccupant" ng-change="searchChanged(seatOccupant)" class="seat-info__input"></div><div ng-show="showHints &amp;&amp; editingOccupant" class="persons"><div class="persons__triangle"></div><div ng-repeat="person in persons | filter:seatOccupant" ng-click="assignNewOccupant(person)" class="person">{{person.name}}</div></div></fieldset><div ng-show="makeFreeSeatModal" class="make-free-confirmation window"><i ng-click="makeFreeSeatModal=false" class="btn-close icon-cancel-sign"></i><div class="window__content"><p class="window__text">Do you really want to make this seat free?</p><button ng-click="makeFreeSeatModal = false; makeSeatFree()" class="window__btn button button--inversion">Yes</button><button ng-click="makeFreeSeatModal=false" class="window__btn button button--inversion">No</button></div></div></div><button ng-click="confirmationDeleteSeat = true" class="seat-info__btn button button--inversion">Delete seat</button><div ng-show="confirmationDeleteSeat" class="delete-confirmation window"><i ng-click="confirmationDeleteSeat=false" class="btn-close icon-cancel-sign"></i><div class="window__content"><p class="window__text">Do you really want to delete this seat?</p><button ng-click="deleteSeat(); confirmationDeleteSeat=false" class="window__btn button button--inversion">Yes</button><button ng-click="confirmationDeleteSeat=false" class="window__btn button button--inversion">No</button></div></div></div></div><form class="search"><fieldset class="search__input-wrap"><i class="search__icon icon-search"></i><input type="text" ng-model="searchUser" placeholder="Search" ng-change="searchUsersChanged(searchUser)" ng-focus="searchUsersChanged(searchUser)" class="search__input"><div ng-show="showUsers" class="search__variants"><div class="search__triangle"></div><p ng-repeat="person in persons | filter:searchUser" ng-click="focussedPerson(person)" class="search__variant">{{person.name}}</p></div></fieldset><fieldset class="search__checkbox-wrap"><input id="checkbox01" type="checkbox" name="checkbox"><label for="checkbox01">Without seat</label></fieldset></form><!--person popup--><div ng-show="personInfo" class="person-info"><div ng-click="personInfo = false" class="window__close btn-close icon-cancel-sign"></div><div class="person-info__media-wrap"><img src="img/person2.jpg" alt="person photo" class="person-info__media"></div><div class="person-info__details"><div class="person-info__elem"><span class="person-info__key">Occupant name:</span><span class="person-info__value">{{currentUser.name}}</span></div><div class="person-info__elem"><span class="person-info__key">Occupant email:</span><span class="person-info__value">{{currentUser.email}}</span></div><div class="person-info__elem"><span class="person-info__key">Occupant seat:</span><span class="person-info__value">{{currentUser.seatId}}</span><span ng-click="removeFromPlace(currentUser.name)"></span><button ng-click="selectionModeOn()" class="person-info__btn button button--inversion">assign</button><div ng-show="assignModal" class="assign-modal window"><i ng-click="assignModal = false" class="btn-close icon-cancel-sign"></i><div ng-hide="userWithoutSeat"><div class="window__content"><div class="window__text assign-modal__text">This place is already occupied. Would you like to swap {{currentUser.name}} and {{currentPlace.occupant}}
or you want to replace {{currentPlace.occupant}}</div><button ng-click="swapPersons(currentPlace, currentUser)" class="assign-modal__btn button button--inversion">Swap</button><button ng-click="replacePerson(currentPlace, currentUser)" class="assign-modal__btn button button--inversion">Replace</button></div></div><div ng-show="userWithoutSeat"><div class="window__content"><div class="window__text assign-modal__text">This place is already occupied. Would you like to replace {{currentPlace.occupant}} ?</div><button ng-click="replacePerson(currentPlace, currentUser)" class="assign-modal__btn button button--inversion">Replace</button></div></div></div></div></div></div></div></div></header><div class="floor-plan-wrapper wrapper"><div class="selection-mode-wrap"><p ng-if="selectionMode" class="selection-mode">selection mode</p></div><div class="floor-plan"><img src="img/floor.svg" alt="floor-plan" class="floor-plan__media"><canvas id="canvas-block" width="1140" height="600"></canvas></div></div></div><script type="text/javascript" src="bundle.js"></script>